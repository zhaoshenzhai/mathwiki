{{- $type := .Get "type" -}}
{{- $hide := .Get "hide" -}}
{{- $name := .Get "name" -}}
{{- $typeUpper := strings.FirstUpper $type -}}
{{- $icon := printf "css/fa/%s.svg" $type -}}

{{- $class := "" -}}
{{- if eq $typeUpper "Proof" -}}
    {{- $class = "collapsibleContainer" -}}
    {{- if eq $hide "true" -}}
        {{- $class = printf "%s %s" $class "hide" -}}
    {{- end -}}
{{- else if eq $typeUpper "Definition" -}}
    {{- $class = "env" -}}
    {{- $class = printf "%s %s" $class "envDef" -}}
{{- else -}}
    {{- $class = "env" -}}
{{- end -}}

<div class="{{ $class }}">
    {{- if eq $typeUpper "Proof" -}}
        {{- if $name -}}
            <i class="proofHeader noSelect">{{ $typeUpper }} ({{ $name }}).</i>
        {{- else -}}
            <i class="proofHeader noSelect">{{ $typeUpper }}.</i>
        {{- end -}}

        <div class="proofHintText noSelect"><i>Click to expand...</i></div>

        <span class="collapsibleContent">
            {{- .Inner | .Page.RenderString -}}
        </span>
    {{- else -}}
        <img class="icon noSelect listenDark" src="{{ absURL ""}}{{ $icon }}">

        {{- if $name -}}
            <b class="envTitle">{{ $typeUpper }} ({{ $name }}). </b>
        {{- else -}}
            <b class="envTitle">{{ $typeUpper }}. </b>
        {{- end -}}

        {{- .Inner | .Page.RenderString -}}
    {{- end -}}
</div>
