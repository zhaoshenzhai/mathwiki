{{- $type := .Get "type" -}}
{{- $name := .Get "name" -}}
{{- $id := .Get "id" -}}
{{- $num := .Get "num" -}}
{{- $link := .Get "link" -}}
{{- $linkId := .Get "linkId" -}}
{{- $typeUpper := strings.FirstUpper $type -}}

{{- $containerClass := "" -}}
{{- if eq $typeUpper "Proof" -}}
    {{- $containerClass = "proof" -}}
{{- else -}}
    {{- $containerClass = "env" -}}

    {{- if eq $typeUpper "Definition" -}}
        {{- $containerClass = printf "%s %s" $containerClass "envDef" -}}
    {{- end -}}
    {{- if eq $typeUpper "Theorem" -}}
        {{- $containerClass = printf "%s %s" $containerClass "envThm" -}}
    {{- end -}}
    {{- if eq $typeUpper "Lemma" -}}
        {{- $containerClass = printf "%s %s" $containerClass "envLem" -}}
    {{- end -}}
    {{- if eq $typeUpper "Fact" -}}
        {{- $containerClass = printf "%s %s" $containerClass "envFct" -}}
    {{- end -}}
{{- end -}}

{{- if not $name -}} {{ $name = "NULL" -}} {{- end -}}
{{- if not $link -}} {{ $link = "NULL" -}} {{- end -}}
{{- if not $linkId -}} {{ $linkId = "NULL" -}} {{- end -}}

<div class="{{ $containerClass }}" id="{{ $id }}">
    {{- if eq $typeUpper "Proof" -}}
        {{- if not (eq $name "NULL") -}}
            <i>{{ $typeUpper }} ({{ $name }}). </i>
        {{- else -}}
            <i>{{ $typeUpper }}. </i>
        {{- end -}}

        {{- .Inner | .Page.RenderString -}}
    {{- else -}}
        <b class="envTitle" data-envNum={{ $num }} data-envName={{ $name }} data-envLink={{ $link }} data-envLinkId={{ $linkId }}>{{ $typeUpper }}</b>
        {{- .Inner | .Page.RenderString -}}
    {{- end -}}
</div>
